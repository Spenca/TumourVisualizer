# TumourVisualizer

![alt text](https://github.com/Spenca/UnityTumourSimulator/blob/master/Screenshot.png)

## About
TumourVisualizer uses Unity to visualize data generated by a modified version of [TumourSimulator version 1.2.3](https://www2.ph.ed.ac.uk/~bwaclaw/cancer-code/), included in this repository.

## Using the visualizer
To make changes to the project, or build for other platforms, clone this repository and open the root directory in your Unity editor.

To run the Windows build, clone this repository and run the executeable located in the `BuildWindows` directory.

## Controls
While moving the mouse, click and hold the left mouse button to pan the camera, or click and hold and the right mouse button to strafe the camera. Hold the spacebar and move the mouse forwards and backwards to zoom.

## Input
The visualizer accepts the file `pointcloud_10000.pcd` as input; at the root project directory while running the Unity editor, and in the same directory as the executeable when running a Unity build. This file is generated by TumourSimulator, and can be modified by compiling and running the code found in the `TumourSimulator_1.2.3` directory. Use `g++ simulation.cpp main.cpp functions.cpp -w -O3 -I include/ -o cancer.exe` to compile the code on Linux and Mac. On Windows, please run with the "Windows Subsytem for Linux" and accompanying Linux install (tested with Ubuntu). Current installation directions for these tools can be found [here](https://docs.microsoft.com/en-us/windows/wsl/install-win10).


After compiling the code found in the `TumourSimulator_1.2.3` directory, more information about the specifiable parameters with which the simulation can be run is viewable by running `./cancer.exe -h` in a terminal. More information about these parameters is also available in [this](https://www.nature.com/articles/nature14971) paper, which describes the model of tumour growth that TumourSimulator attempts to simulate.

## Categorical information
The modified TumourSimulator included in this repository outputs a file called `tables_10000.pcd`. A copy of this file is included in this repository's root for reference. Within the file is information regarding the cells, genotypes and mutations present in the simulation. The fields in each table are labeled within the file. There are 3 tables in the file, each row in each table represents a cell in the simulation (each table contains information on the same set of cells).

A couple of notes:
If a cell has a `mother_genotype_id` of `-1`, that means it has no mother genotype. Furthermore, different coloured cells have different genotypes, as the colour of a cell in the visualization is determined by its genotype information. 

## Future work
I'm interested in potentially modifying the visualizer to update in real time and/or have the ability to step through different states, by providing multiple outputs from TumourSimulator.
